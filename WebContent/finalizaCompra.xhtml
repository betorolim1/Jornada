<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="_template.xhtml">

	<ui:define name="corpo">

		<div class="container">
			<div class="row">
				<div class="box">
					<div class="col-lg-12">
						<hr />
						<h2 class="intro-text text-center">Finalizar Compra</h2>
						<hr />
						<h:form>
							<p:growl id="growl" showDetail="false" sticky="true" />
							<div class="col-xs-6 col-sm-4"></div>
							<h:panelGrid columns="2" cellpadding="5">
								<p:outputLabel value="Numero do cartão:"></p:outputLabel>
								<p:inputText
									value="#{carrinhoDeComprasBean.compra.numeroDoCartao}"
									required="true" />
								<p:outputLabel value="CVV:"></p:outputLabel>
								<p:inputText value="#{carrinhoDeComprasBean.compra.cvv}"
									required="true" />
								<p:outputLabel value="Data de Validade:"></p:outputLabel>
								<p:calendar id="data"
									value="#{carrinhoDeComprasBean.compra.dataValidade}"
									pattern="dd-MM-yyyy" mask="true" required="true"
									validator="ValidadorData" />
								<p:outputLabel value="Endereço de Entrega:" />
								<p:inputText value="#{carrinhoDeComprasBean.compra.endereco}"
									required="true"></p:inputText>
								<p:outputLabel value="Cupom de Desconto:"></p:outputLabel>
								<p:inputText value="#{carrinhoDeComprasBean.codigo}"></p:inputText>

								<p:commandLink update="growl total"
									actionListener="#{carrinhoDeComprasBean.validaCupom}">
									<h:outputText value="Validar Cupom" />
								</p:commandLink>
								<br></br>
								<br></br>

								<p:outputLabel value="Total a pagar:"></p:outputLabel>
								<h:outputText id="total" value="#{carrinhoDeComprasBean.total}"></h:outputText>

								<p:commandButton value="Finalizar"
									action="#{carrinhoDeComprasBean.finalizaCompra}" update="growl"></p:commandButton>
							</h:panelGrid>
						</h:form>
					</div>
				</div>
			</div>
		</div>

	</ui:define>
</ui:decorate>